'''
PONG VS AI

This Program is a modification of the orig NN trainer
It is a simple pong game that uses the trained NN to play against the player
Player is on the left, AI is on the right
Use arrow keys or 'w' and 's' to move the player paddle
No ending to the game, just used as a demonstration of the NN
'''



from tkinter import *
from modules.classes import *
from termcolor import colored, cprint




def loop():
    depth = 20
    weight = [-0.25792278057043333, -0.07947453647264646, 0.5221816386191643, 0.7718466744909154, -0.3864655633093223, 0.31506332980870694, -0.011271372717108166, 0.18778052583428867, -0.3303585504504242, 1.2374896137353169, -0.4430368465266013, 0.4385091455094598, 0.021447203732329223, 0.10081393872756518, -0.6223010055232289, -0.6544565625525942, -0.5771267696169626, -0.028951116589097235, 0.09658247064973462, 0.7288244258579131, -0.36851326438508103, -0.22608842263538115, -0.05285869085638927, -0.2989034220686118, -0.22163298548044713, -0.20524078842434634, -0.23935260169812844, -0.2414040763896092, -0.22240826196163171, 0.09779735226753229, -0.014308100292237995, 0.08523993291550068, 0.2506247039377398, 0.5432688830256887, -0.28017862045112657, 0.07406192050192782, 0.23515353102440778, -0.23958041356798904, 0.18878808804772462, -0.250855377387428, 0.4000997002619609, -0.2620722317691834, -0.4006202119009372, -0.46264346418632346, -0.2953849363604916, -0.7107806896019382, -0.16499449611044137, -0.17776914682886885, -0.3686533292343294, -0.2641884934976522, 0.09838956484713211, 0.8699107054190449, -0.009742309296741539, 0.13292065519515872, -0.4198664253167684, -0.9409075910284823, -0.07248694075415556, -0.426882075000271, 0.450343378405965, -0.45458061958524487, 0.45879051000740706, 0.13706237782744224, -0.9554256164333654, -0.39812026420306074, 0.17292095916497974, 0.4834390393806626, -0.034384540438645084, 0.3543784946641279, -0.017353214827134186, 0.3331922439449332, -0.5299356953710628, 0.6226455387410009, 0.09543976120947455, 0.003762082275474532, 0.8913201038869858, 0.23912973463511794, 0.2578387992180708, 0.8014228083808858, -0.361468748190534, 0.023393222835518826, -0.231902417434313, 0.11759660743231869, 0.549829015824383, -0.14639884418718696, -0.5822500224945294, -0.23806889121820207, -0.31834232434789766, 0.019372833417583057, 0.07159475776089953, 0.2779810548307216, -0.5635841352019666, 0.46933676887274917, 0.011199546274903494, 0.11697168656073521, -0.9230679341277461, -0.09036147527351905, 0.3713101661937584, 0.2527841900922772, 0.1920352778621432, -0.36338005697412656, -0.1991618662331524, 0.08078129272638022, 0.18741269900241725, 0.003308987740072322, 0.19650685618964342, 0.01707990316394585, -0.03909265294011098, -0.05911707726822075, -0.050618433828541795, 0.05830962344645764, -0.16791157649908817, -0.2960687680197181, 0.022000078373894505, 0.015146235746278255, 0.02538016773270292, 0.05691126498179637, -0.024705251497767006, 0.18254039643672798, 0.01899719435111427, -0.052873344767405024]

    root = Tk()
    root.attributes("-topmost", True)
    title = "Pong Player vs NN"
    cprint('\n'+title+'\n', 'cyan', attrs=['bold', 'underline'])
    root.title(title)
    root.resizable(width=False, height=False)
    root.after(1, lambda: root.focus_force())
    win = Window(root, depth, weight)
    time.sleep(1)

    while True:
        try:
            win.update()
        except TclError:
            cprint('\n\nLeft early did ya??', 'cyan', attrs=['bold', 'underline'])
            break
    root.mainloop()

if __name__ == "__main__":
    loop()
